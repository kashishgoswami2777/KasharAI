{
  "meta": {
    "project": "Kashar AI",
    "date": "2025-11-14",
    "prepared_by": "Generated by TestSprite"
  },
  "product_overview": "Kashar AI is a personalized AI-powered learning platform that transforms uploaded content such as PDFs, notes, and textbooks into a comprehensive study system. It features a real-time AI tutor with voice and text interaction, automated quizzes, flashcards, and progress analytics to enhance study efficiency and engagement without the need for physical tutors.",
  "core_goals": [
    "Enable users to easily upload and convert study materials into interactive learning modules.",
    "Provide a real-time AI tutor capable of voice and text interactions to clarify concepts and answer queries.",
    "Automate quiz generation and flashcard creation to aid active recall and reinforcement.",
    "Track and display user learning progress, performance analytics, and streaks to motivate continuous learning.",
    "Ensure a simple, fast, and secure user experience with no over-engineered or irrelevant features."
  ],
  "key_features": [
    "User authentication via Supabase for secure signup, login, and logout.",
    "Document management allowing PDF uploads, text extraction through a microservice, and storage in ChromaDB.",
    "Real-time AI tutor with text and voice modes powered by Mistral AI and Agora SDK for voice streams.",
    "Quiz system generating adaptive quizzes with multiple formats such as MCQs, True/False, and short recall questions.",
    "Flashcard generation from key topics and concepts for quick revision.",
    "Progress tracking dashboard showing quiz scores, accuracy, weak topics, streaks, and time spent.",
    "Agora integration providing secure real-time communication tokens for voice and video interactions.",
    "PDF parsing microservice using Flask to extract and chunk document text for downstream processing."
  ],
  "user_flow_summary": [
    "User signs up or logs in using email and password via Supabase Auth.",
    "User uploads PDFs or text documents; system extracts and processes text to generate structured learning chunks.",
    "User interacts with AI tutor through text or voice; AI responds contextually based on uploaded content.",
    "User generates quizzes by selecting topics and difficulty levels to test understanding.",
    "User generates and reviews flashcards to reinforce learning through quick revision decks.",
    "User takes quizzes and submits answers; system saves results to track progress.",
    "User views progress analytics and streak data on the dashboard to monitor learning.",
    "For voice tutoring, users join voice rooms managed by Agora; AI processes queries and returns synthesized speech."
  ],
  "validation_criteria": [
    "User authentication flow works reliably including signup, login, and logout with session management.",
    "PDF uploading triggers parsing and text extraction accurately, with data stored safely.",
    "AI tutor sessions maintain context and provide relevant, clear responses both in text and voice modes.",
    "Quiz and flashcard generation produce appropriate content per selected topics and difficulty.",
    "Progress tracking reflects accurate quiz performance, streaks, and time spent metrics.",
    "Voice and video tokens generated securely by Agora for real-time communication.",
    "UI meets simplicity standards: minimal, fast, and easy to use with consistent design.",
    "No hallucinated or irrelevant AI content; all responses should be accurate and helpful.",
    "User data privacy and security are maintained with role-level security and secure token usage."
  ],
  "code_summary": {
    "tech_stack": [
      "Python",
      "JavaScript",
      "React",
      "FastAPI",
      "Flask",
      "Supabase",
      "PostgreSQL",
      "ChromaDB",
      "Tailwind CSS",
      "Mistral AI",
      "Agora SDK"
    ],
    "features": [
      {
        "name": "User Authentication",
        "description": "User signup, login, logout with Supabase Auth integration",
        "files": [
          "backend/routes/auth.py",
          "backend/services/auth_service.py",
          "frontend/src/components/Auth/Login.js",
          "frontend/src/components/Auth/Signup.js",
          "frontend/src/contexts/AuthContext.js"
        ],
        "api_doc": {
          "paths": {
            "/api/auth/signup": {
              "post": {
                "summary": "User registration",
                "requestBody": {
                  "content": {
                    "application/json": {
                      "schema": {
                        "type": "object",
                        "properties": {
                          "email": {
                            "type": "string"
                          },
                          "password": {
                            "type": "string"
                          }
                        }
                      }
                    }
                  }
                }
              }
            },
            "/api/auth/login": {
              "post": {
                "summary": "User login",
                "requestBody": {
                  "content": {
                    "application/json": {
                      "schema": {
                        "type": "object",
                        "properties": {
                          "email": {
                            "type": "string"
                          },
                          "password": {
                            "type": "string"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      },
      {
        "name": "Document Management",
        "description": "PDF upload, parsing, and document management with ChromaDB storage",
        "files": [
          "backend/routes/documents.py",
          "backend/services/document_service.py",
          "parsing-service/app.py",
          "frontend/src/components/Documents/DocumentUpload.js"
        ],
        "api_doc": {
          "paths": {
            "/api/documents/upload": {
              "post": {
                "summary": "Upload and process PDF documents",
                "requestBody": {
                  "content": {
                    "multipart/form-data": {
                      "schema": {
                        "type": "object",
                        "properties": {
                          "file": {
                            "type": "string",
                            "format": "binary"
                          }
                        }
                      }
                    }
                  }
                }
              }
            },
            "/api/documents/": {
              "get": {
                "summary": "Get user documents"
              }
            }
          }
        }
      },
      {
        "name": "AI Tutor",
        "description": "Real-time AI tutoring with context-aware responses using Mistral AI",
        "files": [
          "backend/routes/tutor.py",
          "backend/services/tutor_service.py",
          "frontend/src/components/Tutor/TutorRoom.js"
        ],
        "api_doc": {
          "paths": {
            "/api/tutor/start-session": {
              "post": {
                "summary": "Start a new tutor session",
                "requestBody": {
                  "content": {
                    "application/json": {
                      "schema": {
                        "type": "object",
                        "properties": {
                          "session_type": {
                            "type": "string",
                            "enum": [
                              "text",
                              "voice"
                            ]
                          }
                        }
                      }
                    }
                  }
                }
              }
            },
            "/api/tutor/message": {
              "post": {
                "summary": "Send message to AI tutor",
                "requestBody": {
                  "content": {
                    "application/json": {
                      "schema": {
                        "type": "object",
                        "properties": {
                          "message": {
                            "type": "string"
                          },
                          "session_id": {
                            "type": "string"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      },
      {
        "name": "Quiz System",
        "description": "AI-generated quizzes with adaptive difficulty adjustment",
        "files": [
          "backend/routes/quiz.py",
          "backend/services/quiz_service.py",
          "frontend/src/components/Quiz/QuizPage.js"
        ],
        "api_doc": {
          "paths": {
            "/api/quiz/generate": {
              "post": {
                "summary": "Generate quiz for a topic",
                "requestBody": {
                  "content": {
                    "application/json": {
                      "schema": {
                        "type": "object",
                        "properties": {
                          "topic": {
                            "type": "string"
                          },
                          "difficulty": {
                            "type": "string",
                            "enum": [
                              "easy",
                              "medium",
                              "hard"
                            ]
                          },
                          "num_questions": {
                            "type": "integer"
                          }
                        }
                      }
                    }
                  }
                }
              }
            },
            "/api/quiz/submit": {
              "post": {
                "summary": "Submit quiz answers",
                "requestBody": {
                  "content": {
                    "application/json": {
                      "schema": {
                        "type": "object",
                        "properties": {
                          "quiz_id": {
                            "type": "string"
                          },
                          "answers": {
                            "type": "array",
                            "items": {
                              "type": "integer"
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      },
      {
        "name": "Flashcards",
        "description": "AI-generated flashcards for study topics",
        "files": [
          "backend/routes/flashcards.py",
          "backend/services/flashcard_service.py",
          "frontend/src/components/Flashcards/FlashcardsPage.js"
        ],
        "api_doc": {
          "paths": {
            "/api/flashcards/generate": {
              "post": {
                "summary": "Generate flashcards for a topic",
                "requestBody": {
                  "content": {
                    "application/json": {
                      "schema": {
                        "type": "object",
                        "properties": {
                          "topic": {
                            "type": "string"
                          },
                          "num_cards": {
                            "type": "integer"
                          }
                        }
                      }
                    }
                  }
                }
              }
            },
            "/api/flashcards/": {
              "get": {
                "summary": "Get user flashcard sets"
              }
            }
          }
        }
      },
      {
        "name": "Progress Tracking",
        "description": "User progress analytics, streaks, and performance tracking",
        "files": [
          "backend/routes/progress.py",
          "backend/services/progress_service.py",
          "frontend/src/components/Progress/ProgressPage.js"
        ],
        "api_doc": {
          "paths": {
            "/api/progress/": {
              "get": {
                "summary": "Get user progress data",
                "parameters": [
                  {
                    "name": "days",
                    "in": "query",
                    "schema": {
                      "type": "integer"
                    }
                  }
                ]
              }
            },
            "/api/progress/streaks": {
              "get": {
                "summary": "Get user learning streaks"
              }
            },
            "/api/progress/analytics": {
              "get": {
                "summary": "Get user performance analytics"
              }
            }
          }
        }
      },
      {
        "name": "Agora Integration",
        "description": "Real-time communication tokens for voice/video features",
        "files": [
          "backend/routes/agora.py",
          "backend/services/agora_service.py"
        ],
        "api_doc": {
          "paths": {
            "/api/agora/rtc-token": {
              "post": {
                "summary": "Generate RTC token for voice/video",
                "requestBody": {
                  "content": {
                    "application/json": {
                      "schema": {
                        "type": "object",
                        "properties": {
                          "channel_name": {
                            "type": "string"
                          },
                          "uid": {
                            "type": "integer"
                          },
                          "role": {
                            "type": "string",
                            "enum": [
                              "publisher",
                              "subscriber"
                            ]
                          }
                        }
                      }
                    }
                  }
                }
              }
            },
            "/api/agora/rtm-token": {
              "post": {
                "summary": "Generate RTM token for messaging",
                "requestBody": {
                  "content": {
                    "application/json": {
                      "schema": {
                        "type": "object",
                        "properties": {
                          "uid": {
                            "type": "string"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      },
      {
        "name": "PDF Parsing Service",
        "description": "Flask microservice for PDF text extraction and chunking",
        "files": [
          "parsing-service/app.py"
        ],
        "api_doc": {
          "paths": {
            "/parse": {
              "post": {
                "summary": "Parse PDF and extract text chunks",
                "requestBody": {
                  "content": {
                    "multipart/form-data": {
                      "schema": {
                        "type": "object",
                        "properties": {
                          "file": {
                            "type": "string",
                            "format": "binary"
                          }
                        }
                      }
                    }
                  }
                }
              }
            },
            "/health": {
              "get": {
                "summary": "Health check endpoint"
              }
            }
          }
        }
      }
    ]
  }
}
